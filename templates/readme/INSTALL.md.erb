# Установка

## Установка на Mac OS 10.15+

Установить Homebrew:

```
ruby -e "$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)"
```

Установить Ruby:

```
brew install rbenv ruby-build

echo 'if which rbenv > /dev/null; then eval "$(rbenv init -)"; fi' >> ~/.zshrc
source ~/.zshrc

rbenv install <%= ruby %>
rbenv global <%= ruby %>
```

Установить PostegreSQL:

```
brew install postgresql
brew services start postgresql
```

Установить необходимые библиотеки и инструменты:

```
gem install bundler:<%= bundler %>
gem install foreman

brew install libxml2
ln -s /usr/local/opt/libxml2/include/libxml2 /usr/local/include/libxml2
gem install libxml-ruby -- --with-xml2-config=/usr/local/opt/libxml2/bin/xml2-config

bundle config --global path vendor/bundle
bundle

brew install redis
brew install yarn

yarn install

brew services start redis
```

Затем:

1. Создать базу данных и пользователя для неё.
2. Создать файлы с настройками:
  - `.env.development.local` на основе `.env.development`
  - `.env.test.local` на основе `.env.test`
3. Запустить миграции: `rails db:migrate`
4. Добавить тестовые данные: `rails db:seed`

На сервере для `production` необходимо установить переменные среды, указанные в файле `.env.production`.
