# Config for Rubocop.

inherit_gem:
  rubocop-configs:
    - _all_cops.yml
    - _ruby.yml
    - bundler.yml
<% if capybara %>
    - capybara.yml
<% end %>
<% if factory_bot %>
    - factory_bot.yml
<% end %>
<% if graphql %>
    - graphql.yml
<% end %>
    - performance.yml
    - rails.yml
    - rake.yml
<% if rspec %>
    - rspec.yml
    - rspec_rails.yml
<% end %>
<% if rswag %>
    - rswag.yml
<% end %>
<% if sequel %>
    - sequel.yml
<% end %>
    - thread_safety.yml

AllCops:
  TargetRubyVersion: <%= Gem.ruby_version.segments[0..1].join(".") %>

<% if detected_features[:settings] || factory_bot %>
Layout/RedundantLineBreak:
  Exclude:
<% if detected_features[:settings] %>
    - config/initializers/settings.rb
<% end %>
<% if factory_bot %>
    - 'factories/**/*.rb'
<% end %>
<% end %>

<% if factory_bot %>
Metrics/BlockLength:
  Exclude:
    - 'factories/**/*.rb'
<% end %>

Naming/FileName:
  Exclude:
    - .tools/Gemfile

Style/ClassAndModuleChildren:
  Exclude:
    - '.tools/**/*.rb'
